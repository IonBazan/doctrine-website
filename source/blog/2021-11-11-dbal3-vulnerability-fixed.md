---
title: "DBAL 3 SQL Injection Security Vulnerability fixed (CVE-2021-43608)"
authorName: Benjamin Eberlei
authorEmail: kontakt@beberlei.de
permalink: /2021/11/11/dbal3-vulnerability-fixed.html
---

We have released a new version Doctrine DBAL 3.1.4 that fixes a critical SQL
injection vulnerability in the LIMIT clause generation API provided by the
Platform abstraction.

We advise everyone using Doctrine DBAL 3.0.0 up to 3.1.3 to upgrade to 3.1.4
immediately. 

The vulnerability can happen when unsanitized input is passed to many APIs in
Doctrine DBAL and ORM that ultimately end up calling
`AbstractPlatform::modifyLimitQuery`.

As a workaround you can cast all limit and offset parameters to integers before
passing them to Doctrine APIs.

This vulnerability has been assigned
[CVE-2021-43608](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-43608).
